{% extends "app/base.html" %}
{% load static %}
{% block titulo_da_pagina %}{{ titulo_pagina }} {% endblock titulo_da_pagina %}
{% block css_personalizado %}
<link href="{% static '/css/ocorrencia.css' %}" rel="stylesheet">


{% endblock  %}
{% block navbar %}

{% endblock navbar %}
{% block content %}

<div class="container">
    <h1 class="mb-4">Configurações do sistema</h1>
    <div class="row">
        <div class="col-3">
            <ul class="nav navbar navbar-light flex-column" style="background-color: #e3f2fd;">
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="cidadeDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                  Cidade
                </a>
                <ul class="dropdown-menu" aria-labelledby="cidadeDropdown">
                  <li><a class="dropdown-item" href="{% url  'app:dados_gerais'  acao='cidade'  %}">Listar</a></li>
                  <li><a class="dropdown-item" href="{% url  'app:dado_add'  objeto='cidade'  %}">Adicionar</a></li>
                </ul>
              </li>
                <li class="nav-item dropdown">
                  <a class="nav-link dropdown-toggle" href="#" id="bairroDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                    Bairro
                  </a>
                  <ul class="dropdown-menu" aria-labelledby="bairroDropdown">
                    <li><a class="dropdown-item" href="{% url  'app:dados_gerais'  acao='bairro'  %}">Listar</a></li>
                    <li><a class="dropdown-item" href="{% url  'app:dado_add'  objeto='bairro'  %}">Adicionar</a></li>
                  </ul>
                </li>
                <li class="nav-item dropdown">
                  <a class="nav-link dropdown-toggle" href="#" id="direitoDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                    Direito
                  </a>
                  <ul class="dropdown-menu" aria-labelledby="direitoDropdown">
                    <li><a class="dropdown-item" href="{% url  'app:dados_gerais'  acao='direito'  %}">Listar</a></li>
                    <li><a class="dropdown-item" href="{% url  'app:dado_add'  objeto='direito'  %}">Adicionar</a></li>
                  </ul>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="escolaDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                      Escola
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="escolaDropdown">
                      <li><a class="dropdown-item" href="{% url  'app:dados_gerais'  acao='escola'  %}">Listar</a></li>
                      <li><a class="dropdown-item" href="{% url  'app:dado_add'  objeto='escola'  %}">Adicionar</a></li>
                    </ul>
                </li>
                {% if perms.app.view_servidor %}
                <li class="nav-item dropdown">
                  <a class="nav-link dropdown-toggle" href="#" id="servidoresDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                    Servidores
                  </a>
                  <ul class="dropdown-menu" aria-labelledby="servidoresDropdown">
                    <li><a class="dropdown-item" href="{% url  'app:dados_gerais'  acao='servidor'  %}">Listar</a></li>
                  </ul>
                </li>
                {%  endif %}
              </ul>
              
            
            </div>
        <div class="col">
          {% if queryset != '' %}
          
          <table class="table">
            <thead >
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Dado</th>
                    {% if acao == 'servidor' %}
                    <th scope="col">Cargo</th>
                    {% endif%}
                    <th scope="col">Ação</th>
                </tr> 
            </thead>
            <tbody>
                {% for field in queryset  %}
                <tr>
                    <th scope="row">{{field.id}}</th>
                    {% if acao == 'servidor' %}
                      <td>{{field.get_full_name}}</td>
                        {% for group in field.groups.all %}
                          <td>{{group}}</td>
                        {% endfor %}
                    {% else %}
                    <td>{{field.nome }}</td>
                    {% endif %}
                    <td><a href="{% url 'app:dado_update' objeto field.id  %}" role="button" class="btn   btn-info pad" data-toggle="tooltip"  title="Editar">
                      <i class="far fa-edit "></i>
                  </a></td>
      
                </tr>
                {% endfor %}
            </tbody>
    </table>
    {% endif %}


        </div>
    </div>
</div>
{% block extra_scripts %}
<script>
    var requestGet = '{{request.path}}'
    var triggerEl = document.querySelector(`a[href="${requestGet}"]`)
    triggerEl.classList += " active"
</script>
{% endblock %}



  
 
{% endblock content %}
